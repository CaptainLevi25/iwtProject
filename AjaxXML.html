<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link rel="stylesheet" href="home.css" />
  </head>
  <body>
    <div class="sidebar">
      <a class="content intro" href="/home.html">
        Introduction</a
      >
      <a class="content XMLHTTPRequestObject" href="/xmlhttpRequest.html"
        >XML HTTP Request Object</a
      >
      <a class="content XMLHTTPRequestObject" href="/AjaxServerResponse.html"
        >AJAX Server Response</a
      >
      <a class="content" href="/AjaxXML.html" style="background-color: rgb(56, 132, 56);;">AJAX XML</a>
      <a class="content" href="/AjaxDatabase.html">AJAX Database</a>
    </div>

    <div class="maincontent">
      <h1 style="padding: 10px">AJAX XML</h1>
      <div class="buttons">
        <a href="" class="button previous">Previous</a>
        <a href="" class="button next">Next</a>
      </div>

      <hr />
      <h3 style="padding: 20px">
        AJAX can be used for interactive communication with an XML file.
      </h3>

      <hr />

      <div class="ajaxexample">
        <p>
          The following example will demonstrate how a web page can fetch
          information from an XML file with AJAX:
        </p>
        <div class="code-container">
          <h2>Example</h2>
          <pre style="background-color: black; padding: 10px">
    <button style="color: black;">Get CD INFO</button>    
            </pre>
          <div class="button1">Try Yourself</div>
        </div>
      </div>
      <hr />
      <div class="exampleexplained">
        <h2>Example Explained</h2>
        <p>
          When a user clicks on the "Get CD info" button above, the loadDoc()
          function is executed.
        </p>
        <p>
          The loadDoc() function creates an XMLHttpRequest object, adds the
          function to be executed when the server response is ready, and sends
          the request off to the server.
        </p>
        <p>
          When the server response is ready, an HTML table is built, nodes
          (elements) are extracted from the XML file, and it finally updates the
          element "demo" with the HTML table filled with XML data:
        </p>

        <div class="code-container">
          <h2>LoadXMLDoc()</h2>

          <pre style="background: black; padding: 10px">
                function loadDoc() {
                    var xhttp = new XMLHttpRequest();
                    xhttp.onreadystatechange = function() {
                      if (this.readyState == 4 && this.status == 200) {
                      myFunction(this);
                      }
                    };
                    xhttp.open("GET", "cd_catalog.xml", true);
                    xhttp.send();
                  }
                  function myFunction(xml) {
                    var i;
                    var xmlDoc = xml.responseXML;
                    var table="<tr><th>Title</th><th>Artist</th></tr>";
                    var x = xmlDoc.getElementsByTagName("CD");
                    for (i = 0; i <x.length; i++) {
                      table += "<tr><td>" +
                      x[i].getElementsByTagName("TITLE")[0].childNodes[0].nodeValue +
                      "</td><td>" +
                      x[i].getElementsByTagName("ARTIST")[0].childNodes[0].nodeValue +
                      "</td></tr>";
                    }
                    document.getElementById("demo").innerHTML = table;
                  }
            </pre>
          <h4>
            The XML File is here
            <a href="https://www.w3schools.com/xml/cd_catalog.xml"
              ><b style="cursor: pointer"> CD-INFO </b>
            </a>
          </h4>
        </div>
      </div>
      <div class="buttons">
        <a href="" class="button previous">Previous</a>
        <a href="" class="button next">Next</a>
      </div>
    </div>
  </body>
</html>
